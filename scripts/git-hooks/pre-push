#!/usr/bin/env bash
set -euo pipefail

# Run from repo root
cd "$(git rev-parse --show-toplevel)"

echo "Running pre-push checks..."

echo "1/3 Generating Laravel action classes..."
herd php artisan wayfinder:generate

echo "2/3 Running npm tests..."
npm run test

echo "3/3 Running PHP tests..."
herd php artisan test

echo "All pre-push checks passed!"
exit 0

